<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.deataworld.accountMapper">
	<!-- 닉네임 중복검사 -->
	<select id="m_nickChk" parameterType="String" resultType="java.lang.Integer">		
		select count(*)
		from member
		where m_nick = #{m_nick}			
  	</select>
  	
  	<!-- 아이디 중복검사 -->
  	<select id="m_idChk" parameterType="String" resultType="java.lang.Integer">		
		select count(*)
		from member
		where m_id = #{m_id}			
  	</select>
  	
	<!-- 구직자 회원가입 -->  	
  	<insert id="eRegister" parameterType="MemberDTO">
	    insert into member(
			m_id,
			m_password,
			m_name,
			m_nick,
			m_age,
			m_gender,
			m_phone,
			m_address1,
			m_address2,
			m_picture,
			m_email,
			m_terms1,
			m_terms2,
			m_regdate,
			m_warned,
			m_banned,
			m_quitted,
			m_type
		)values(
			#{m_id},
			#{m_password},
			#{m_name},
			#{m_nick},
			#{m_age},
			#{m_gender},
			#{m_phone},
			#{m_address1},
			#{m_address2},
			#{m_picture},
			#{m_email},
			#{m_terms1},
			#{m_terms2},
			curdate(),
			#{m_warned},
			#{m_banned},
			#{m_quitted},
			1
		)
    </insert>
    
    <!-- 구인자 회원가입 -->
    <insert id="rRegister" parameterType="MemberDTO">
	    insert into member(
	    	m_id,
			m_password,
			m_name,
			m_nick,
			m_age,
			m_gender,
			m_phone,
			m_address1,
			m_address2,
			m_picture,
			m_email,
			m_terms1,
			m_terms2,
			m_regdate,
			m_warned,
			m_banned,
			m_quitted,
			m_type
		)values(
			#{m_id},
			#{m_password},
			#{m_name},
			#{m_nick},
			#{m_age},
			#{m_gender},
			#{m_phone},
			#{m_address1},
			#{m_address2},
			#{m_picture},
			#{m_email},
			#{m_terms1},
			#{m_terms2},
			curdate(),
			#{m_warned},
			#{m_banned},
			#{m_quitted},
			2
		)
    </insert>
  	
</mapper>